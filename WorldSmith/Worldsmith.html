<!DOCTYPE html>
<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
<html>
<head>
  <title>Interactive Fables - Worldsmith — Play</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta name="author" content="Interactive Fables">
  <link rel="stylesheet" href="./interpreter/style.css">
  <link rel="stylesheet" href="./interpreter/glkote.css" type="text/css">
  <link rel="stylesheet" href="./interpreter/dialog.css" type="text/css">
  <link href="./interpreter/customcolorpicker.css" rel="stylesheet" type="text/css" />
  <script src="./interpreter/customColorPicker.js" type="text/javascript"></script> 
  <script src="./interpreter/jquery-1.11.2.min.js" type="text/javascript"></script>
  <script src="./interpreter/glkote.min.js" type="text/javascript"></script>
  <script src="./interpreter/quixe.min.js" type="text/javascript"></script>
  <script src="./interpreter/resourcemap.js" type="text/javascript"></script>
  <script type="text/javascript">
	game_options = {
	image_info_map: 'StaticImageInfo',  // image data is here, not in blorb
	use_query_story: false,
	set_page_title: false,
	inspacing: 0,     // gap between windows
	outspacing: 0     // gap between windows and edge of gameport
	};
  </script>
  <script src="interpreter/Worldsmith.gblorb.js" type="text/javascript"></script>

<script type="text/javascript">
//--roboto sans and roboto slab for webpage
//--narrow width
//--increase spacing between lines           

</script>
  
</head>
			
<body class="play">

<div id="column">
<div id="subcolumn">
<div class="container">
<div id="gameport">
<div id="windowport">
<noscript><hr>
<p>You'll need to turn on Javascript in your web browser to play this game.</p>
<hr></noscript>
</div>
<div id="loadingpane">
<img src="interpreter/waiting.gif" alt="LOADING"><br>
<em>&nbsp;&nbsp;&nbsp;Loading...</em>
</div>
<div id="errorpane" style="display:none;"><div id="errorcontent">...</div></div>
</div></div></div></div>


<img class="resize" src="./interpreter/Assets/Background_Large.jpg">
<div><font color="white" style="font-size:10px"><input type="image" align="middle" width="35px" height = "30px" src="./interpreter/Assets/full_screen.png" onclick="toggleFullScreen()"> Toggle Fullscreen</font></div>

<img class="orrery" id="sunage" src="./interpreter/Assets/transpholder.gif">

<img class="planet" id="pworld" src="./interpreter/Assets/transpholder.gif">
<p class="planetname" id="pname"> </p>

<p class="charname" id="cname"> </p>
<img class="facepic" id="cpic" src="./interpreter/Assets/transpholder.gif">

<div class ="logogroup">
	<img class="logoloc" src="./interpreter/Assets/Logo.png">
</div>
<div class="btngroup">

<script>

function toggleFullScreen() {
  if ((document.fullScreenElement && document.fullScreenElement !== null) ||    
   (!document.mozFullScreen && !document.webkitIsFullScreen)) {
    if (document.documentElement.requestFullScreen) {  
      document.documentElement.requestFullScreen();  
    } else if (document.documentElement.mozRequestFullScreen) {  
      document.documentElement.mozRequestFullScreen();  
    } else if (document.documentElement.webkitRequestFullScreen) {  
      document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  
    }  
  } else {  
    if (document.cancelFullScreen) {  
      document.cancelFullScreen();  
    } else if (document.mozCancelFullScreen) {  
      document.mozCancelFullScreen();  
    } else if (document.webkitCancelFullScreen) {  
      document.webkitCancelFullScreen();  
    }  
  }  
}

</script>


<div class="dropdown">
<div class="btngroup">
	<button onclick="setDown(1)" class="dropbtn"></button>
	<button onclick="setDown(2)" class="hdropbtn"></button>
	<button onclick="setDown(3)" class="mdropbtn"></button>
	<div id="myDropdown" class="dropdown-content">
		<div class="setcontent">
			<img src="./interpreter/Assets/SettingsIcon.png">
			<p>Worldsmith Settings</p>
		</div>​	
		<p class="ttcontent">Text Color</p>
		<span class="colorpicker">
			<span class="bgbox"></span>
			<span class="hexbox"></span>
			<span class="clear"></span>
			<span class="colorbox">
				<b class="selected" style="background:#FFFFFF" title="White"></b>
				<b style="background:#369" title="Dark Blue"></b>
				<b style="background:#778899" title="Slate Grey"></b>
				<b style="background:#DC143C" title="Crimson"></b>
				<b style="background:#000000" title="Black"></b>    
			</span>    
		</span>
		<p class="bccontent">Background Color</p>
		<span class="colorpicker">
			<span class="bgbox"></span>
			<span class="hexbox"></span>
			<span class="clear"></span>
			<span class="colorbox">
				<b class="selected" style="background:#FFFFFF" title="White"></b>
				<b style="background:#369" title="Dark Blue"></b>
				<b style="background:#778899" title="Slate Grey"></b>
				<b style="background:#DC143C" title="Crimson"></b>
				<b style="background:#000000" title="Black"></b>    
			</span>    
			</span>
		<p class="bccontent">Link Color</p>
		<span class="colorpicker">
			<span class="bgbox"></span>
			<span class="hexbox"></span>
			<span class="clear"></span>
			<span class="colorbox">
				<b class="selected" style="background:#FFFFFF" title="White"></b>
				<b style="background:#369" title="Dark Blue"></b>
				<b style="background:#778899" title="Slate Grey"></b>
				<b style="background:#DC143C" title="Crimson"></b>
				<b style="background:#000000" title="Black"></b>    
			</span>    
		</span>
		<p class="bccontent">Text Size</p>	
		<p id="smtext" class="tscontent" style="font-size:10px;">Small<span id="mdtext" style="font-size:14px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Medium</span><span id="lgtext" style="font-size:18px;"> &nbsp;&nbsp;&nbsp;Large</span></p>			
		<div class="slider">
			<input type="range" min="0" max="2" step="1" onchange="setTextSize(this.value)">
		</div>		
		<p> </p>
	</div>
	<div id="helpDropdown" class="hdropdown-content">
		<div class="ht_content">
			<div class="lframe">Playing an Interactive Fable is super-easy! Click on the links for some help.
				<div class="htopics">
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(1)">Getting Started</a></p>
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(2)">Exploring the World</a></p>
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(3)">Interacting with Things</a></p>
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(4)">Some VERY Useful Commands</a></p>	
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(5)">Talking to People</a></p>
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(6)">Saving and Loading your Game</a></p>
					<p><img src="./interpreter/Assets/bookicon.png" height="25px" width="25px" hspace="20"><a href="#" onclick="changeHelpText(7)">When you get Stuck</a></p>			
				</div>
			</div>
			<div class="rframe" id="helptext"> </div>
		</div>
	</div>	
	<div id="mapDropdown" class="mdropdown-content">
		<ul class="tab">
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL1')">SubLevel 1</a></li>
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL2')">SubLevel 2</a></li>
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL3')">SubLevel 3</a></li>
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL4')">SubLevel 4</a></li>
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL6')">SubLevel 6</a></li>
			<li><a href="#" class="tablinks" onclick="openMap(event, 'SL7')">SubLevel 7</a></li>			
		</ul>
		<div id="SL1" class="tabcontent">
			<img id="sl1Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>
		<div id="SL2" class="tabcontent">
			<img id="sl2Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>
		<div id="SL3" class="tabcontent">
			<img id="sl3Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>
		<div id="SL4" class="tabcontent">
			<img id="sl4Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>
		<div id="SL6" class="tabcontent">
			<img id="sl6Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>
		<div id="SL7" class="tabcontent">
			<img id="sl7Map" src="./interpreter/Assets/NoMap.jpg" height="537px" width="700px" hspace="20">
		</div>		
	</div>
</div>
</div>

<script>

function openMap(evt, mapName) {
    // Declare all variables
    var i, tabcontent, tablinks;

    // Get all elements with class="tabcontent" and hide them
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }

    // Get all elements with class="tablinks" and remove the class "active"
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }

    // Show the current tab, and add an "active" class to the link that opened the tab
    document.getElementById(mapName).style.display = "block";
    evt.currentTarget.className += " active";
}
</script>

<script>
/* When the user clicks on the button, 
toggle between hiding and showing the dropdown content */
function setDown(option) {
	var mydrop = document.getElementById("myDropdown");
	var hdrop = document.getElementById("helpDropdown");	
	var mdrop = document.getElementById("mapDropdown");	
	if (option==1) {
		mydrop.classList.toggle("show");
		if (hdrop.classList.contains('show')) {
			hdrop.classList.remove('show');
		}
		if (mdrop.classList.contains('show')) {
			mdrop.classList.remove('show');
		}
	}
	else if (option== 2) {
		hdrop.classList.toggle("show");
		if (mydrop.classList.contains('show')) {
			mydrop.classList.remove('show');
		}
		if (mdrop.classList.contains('show')) {
			mdrop.classList.remove('show');
		}
	}
	else if (option== 3) {
		mdrop.classList.toggle("show");
		if (hdrop.classList.contains('show')) {
			hdrop.classList.remove('show');
		}
		if (mydrop.classList.contains('show')) {
			mydrop.classList.remove('show');
		}
	}
}
</script>
		
<div id="myModal" class="modal">
  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">x</span>
	<video class="vcontent" id="myVideoTagID" type="video/mp4" src="./interpreter/Assets/WorldsmithIntro.mp4"></audio>
  </div>
</div>

<div id="myIncModal" class="modal">
  <!-- Modal content -->
  <div class="incmodal-content">
    <span class="incclose">x</span>
		<iframe id="books" src="./interpreter/Assets/Incunable.html" name="targetframe" height="700px" width="1000px" allowTransparency="true" scrolling="no" frameborder="0" ></iframe>
  </div>
</div>

<script>

function changeHelpText(passage){
	var div = document.createElement('div');
	document.getElementById('helptext').innerHTML = "";
	if (passage==1) {
		div.innerHTML = document.getElementById('ht1').innerHTML;	
	}
	else if (passage==2) {
		div.innerHTML = document.getElementById('ht2').innerHTML;	
	}
	else if (passage==3) {
		div.innerHTML = document.getElementById('ht3').innerHTML;	
	}
	else if (passage==4) {
		div.innerHTML = document.getElementById('ht4').innerHTML;	
	}
	else if (passage==5) {
		div.innerHTML = document.getElementById('ht5').innerHTML;	
	}
	else if (passage==6) {
		div.innerHTML = document.getElementById('ht6').innerHTML;	
	}
	else if (passage==7) {
		div.innerHTML = document.getElementById('ht7').innerHTML;	
	}
	document.getElementById('helptext').appendChild(div);
}

function setTextSize(val)	{
	var myElement = document.querySelector(".BufferWindow");
	if (val==0) 
		myElement.style.fontSize = "12px";
	else if (val==1) 
		myElement.style.fontSize = "14px";
	else if (val==2) 
		myElement.style.fontSize = "16px";
	var mySecondElement = document.querySelector(".GridWindow");
	if (val==0) 
		mySecondElement.style.fontSize = "13px";
	else if (val==1) 
		mySecondElement.style.fontSize = "15px";
	else if (val==2) 
		mySecondElement.style.fontSize = "17px";
}
</script>

<script>
// Close the dropdown menu if the user clicks outside of it
/*window.onclick = function(event) {
  if (!event.target.matches('.dropbtn')) {

    var dropdowns = document.getElementsByClassName("dropdown-content");
    var i;
    for (i = 0; i < dropdowns.length; i++) {
      var openDropdown = dropdowns[i];
      if (openDropdown.classList.contains('show')) {
        openDropdown.classList.remove('show');
      }
    }
  }
}*/


// FURKLES CODE

/* Mediates in a key-value fashion between the name of the routine as it
 * is written in the I7 text and the function which is called, receiving 
 * any arguments included in the routine text. */

var ROUTINES = {
    'CSS': doCSS,
	'ADDIMAGE': addImage,
	'MOPCODE': doModal,
	'INCOPEN': doIncModal,
	'CFICODE': doCFImage,
	'PLICODE': doPLImage,
	'ORICODE': doORImage,
	'MAPCODE': doMapImage,
	'GRESET': doGameReset,
	'IRESET' : doIntReset,
};


// Store the gameport element so we can observe changes therein.
var target = document.querySelector('#gameport');

// Matches the _*|foo|*_ and _*|foo: "bar", "baz", "bux"|*_ routine pattern.
var routineRegex = /_\*\|(\S+)(?:: (.*))?\|\*_/;

/* Contains the history of locations the player has visited. This includes
 * the current location, which will always be at the zeroth index. */
var locationHistory = [];
var currentLocation = null;

/* Contains the history of commands the player has entered. */
var commandStack = [];
var lastEnteredCommand = null;

/* allows the observer's execution to be locked, preventing any changes
 * in the loops below from triggering an infinite loop. */
var LOCK = false;
/* Create an observer instance. 
 * https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver */
var observer = new MutationObserver(function(mutations) {
    /* Do not perform any of the below on changes that occur as a result
     * of observer's changes. */
    if (LOCK) {
        return;
    }

    // Iterate through all mutation events.
    Array.from(mutations).forEach(function(mutation) {
        // Lock the execution.
        LOCK = true;

        // Iterate through all nodes added in the mutation event.
        Array.from(mutation.addedNodes).forEach(function(node) {
            // Iterate through all child nodes in the added node.
            Array.from(node.childNodes).forEach(function(childNode) {
                if (node.tagName === 'SPAN' &&
                    node.parentNode.classList.contains('GridLine'))
                {
                    addLocationToHistory(node.innerText.trim());
                }

                var text = childNode.textContent;
                if (childNode &&
                    childNode.nodeType === 3 &&
                    routineRegex.test(text))
                {
                    while (routineRegex.test(text)) {
                        text = gatherJSRoutine(text);
                    }

                    var span = document.createElement('span');
                    span.innerHTML = text;
                    node.insertBefore(span, childNode);
                    node.removeChild(childNode);
                }
            });
        });
    });

    // Unlock the observer execution.
    LOCK = false;
});
 
/* Configuration of the observer. Removing either of these may cause
 * routines to stop working.
 * https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver#MutationObserverInit */
var config = { childList: true, subtree: true, };
 
// Pass in the target node, as well as the observer options.
observer.observe(document.body, config);

function gatherJSRoutine(text) {
    var match = text.match(routineRegex);
    console.log('firing js routine ' + match[1]);

    var argStr = match[2];
    if (argStr) {
        argStr = argStr.trim();
    }

    var args = [];
    var currentArg = '';
    var openQuote = null;
    var index = 0;
    while (argStr && index < argStr.length) {
        currentArg += argStr[index];

        if ((argStr[index] === '"' ||
                argStr[index] === "'") &&
            !openQuote &&
            stringIsNotEscaped(argStr, index))
        {
            openQuote = argStr[index];
        } else if ((argStr[index] === "'" &&
                openQuote === "'") ||
            (argStr[index] === '"' &&
                openQuote === '"') &&
            stringIsNotEscaped(argStr, index))
        {
            openQuote = null;
        } else if (argStr[index] === ',' &&
            !openQuote)
        {
            // remove comma
            currentArg = currentArg.slice(0, -1);
            args.push(currentArg);
            currentArg = '';
        }

        index++;
    }

    if (currentArg) {
        args.push(currentArg);
    }

    args = args.map(function(a) {
        try {
            return eval(a);
        } catch (e) {
            return a;
        }
    });

    var ret;
    if (match[1] in ROUTINES) {
        ret = ROUTINES[match[1]].apply(this, args);
    }
    if (typeof(ret) === 'undefined') {
        ret = '';
    }

    return text.replace(routineRegex, ret);
}

function addLocationToHistory(location) {
    locationHistory.unshift(location);
    currentLocation = locationHistory.slice(-1)[0];
}

target.addEventListener('keydown', function(e) {
    var tgt = e.target;
    if (tgt && tgt.tagName === 'INPUT' &&
        tgt.classList.contains('Input') &&
        tgt.classList.contains('LineInput') &&
        e.keyCode === 13 &&
        tgt.value)
    {
        addCommandToHistory(tgt.value);
    }
});

function addCommandToHistory(command) {
    commandStack.unshift({
        text: command,
        words: command.split(' ')
    });

    lastEnteredCommand = commandStack.slice(-1)[0];
}

// Checks if a string is not followed by an escape character.
function stringIsNotEscaped(text, index) {
    var temp = index - 1;
    var backslashes = 0;
    while (temp > 0) {
        if (text[temp] === '\\') {
            backslashes++;
        } else {
            break;
        }
        
        temp--;
    }
    if (backslashes % 2 === 0) {
        return true;
    }
    return false;
}

//FURKLES CODE

/* Modifies the CSS of a single element denoted by selector, changing
 * the element.selector.property to value. */
function doCSS(selector, property, value) {
    try {
        var elem = document.querySelector(selector);
        if (elem && 'style' in elem && property in elem.style) {
            elem.style[property] = value;
        }
    } catch (e) {
        console.log(e);
    }
}

function addImage(source) {
    return '<img src="' + source +  '">';
}

//To launch a Video modal window
function doModal(source)	{
	var modal = document.getElementById('myModal');
	modal.style.display = "block";
	var video = document.getElementById("myVideoTagID");
	video.src = source;
	video.load();
	video.play();
	}
	
// Get the modal
var modal = document.getElementById('myModal');
var incmodal = document.getElementById('myIncModal');

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];
var incspan = document.getElementsByClassName("incclose")[0];
	
// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
	var video = document.getElementById("myVideoTagID");
	video.pause();
}
incspan.onclick = function() {
    incmodal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";		
		var video = document.getElementById("myVideoTagID");
		video.pause();
    }
	else if (event.target == incmodal) {
		incmodal.style.display = "none";
        modal.style.display = "none";		
    }
}

//To launch the Incunable modal window
function doIncModal(source)	{
	var txtmod = document.getElementById('books');
	txtmod.src = source;
	var modal = document.getElementById('myIncModal');
	modal.style.display = "block";
	}

//To change the card face image and text			
function doCFImage(source, tsource) {
	var image = document.getElementById('cpic');
	image.src = source;
	document.getElementById('cname').innerHTML = tsource;
	}
	
//To change the planet image and text			
function doPLImage(source, tsource) {
	var image = document.getElementById('pworld');
	image.src = source;
	document.getElementById('pname').innerHTML = tsource;
	}
	
//To change the orrery image			
function doORImage(source) {
	var image = document.getElementById('sunage');
	image.src = source;
	}
//To change the Map image			
function doMapImage(source) {
	if (source==1){
		var image = document.getElementById('sl1Map');
		image.src = "./interpreter/Assets/ExecMap.jpg";	
	}
	else if (source==2){
		var image = document.getElementById('sl2Map');
		image.src = "./interpreter/Assets/AcadMap.jpg";	
	}
	else if (source==3){
		var image = document.getElementById('sl3Map');
		image.src = "./interpreter/Assets/StacksMap.jpg";	
	}	
	else if (source==4){
		var image = document.getElementById('sl4Map');
		image.src = "./interpreter/Assets/CityMap.jpg";	
	}
	else if (source==6){
		var image = document.getElementById('sl6Map');
		image.src = "./interpreter/Assets/ManMap.jpg";	
	}
	else if (source==7){
		var image = document.getElementById('sl7Map');
		image.src = "./interpreter/Assets/SalvageMap.jpg";	
	}	
}	

//Resetting the game
function doIntReset () {
	image = document.getElementById('pworld');
	image.src = "./interpreter/Assets/transpholder.gif";
	document.getElementById('pname').innerHTML = " ";	
	image = document.getElementById('cpic');
	image.src = "./interpreter/Assets/transpholder.gif";
	document.getElementById('cname').innerHTML = " ";
	image = document.getElementById('sunage');
	image.src = "./interpreter/Assets/transpholder.gif";
}

function doGameReset() {
	var image = document.getElementById('sl1Map');
	image.src = "./interpreter/Assets/NoMap.jpg";	
	image = document.getElementById('sl2Map');
	image.src = "./interpreter/Assets/NoMap.jpg";	
	image = document.getElementById('sl3Map');
	image.src = "./interpreter/Assets/NoMap.jpg";	
	image = document.getElementById('sl4Map');
	image.src = "./interpreter/Assets/NoMap.jpg";		
	image = document.getElementById('sl6Map');
	image.src = "./interpreter/Assets/NoMap.jpg";		
	image = document.getElementById('sl7Map');
	image.src = "./interpreter/Assets/NoMap.jpg";		
	image = document.getElementById('pworld');
	image.src = "./interpreter/Assets/transpholder.gif";
	document.getElementById('pname').innerHTML = " ";	
	image = document.getElementById('cpic');
	image.src = "./interpreter/Assets/transpholder.gif";
	document.getElementById('cname').innerHTML = " ";
	image = document.getElementById('sunage');
	image.src = "./interpreter/Assets/transpholder.gif";	
}
</script>
<script id="ht1" language="text">
	Worldsmith is an Interactive Fable. That means, at the command prompt : 
	<p><img src="./interpreter/Assets/takelamp.gif"></p>you can type, in normal english, whatever you want to do.
	<p>Or, if you see a piece of colored text that <font color="#369">looks a little like this</font>, you can click on it, and if it's a direction, then you'll go that way. If it's an object, you'll take a closer look at it. If it's a person, you'll start talking to them.</p>
	<p>The sections of this guide will help you. Explore the World using compass directions. TAKE things, EXAMINE them, TALK TO people.</p>
	Try things that make sense! Books are for READing. Clothes are for WEARing. Doors for OPENing or CLOSEing (or even KNOCKing ON). Buttons can be PRESSed or PUSHed.
</script>

<script id="ht2" language="text">
	Type in the directions you might see in the text. Use compass directions like ‘NORTH’ or ‘WEST’ or ‘NORTH WEST’. For ease of typing, you can abbreviate these to their initials – ‘N’ or ‘W’ or ‘NW’. You may also be able to go ‘UP’ or ‘DOWN’. Sometimes, you can go ‘IN’ or ‘OUT’ – or perhaps you might need to ENTER something. For example: ENTER CUPBOARD.
	<p>Or, in Worldsmith, you can click on the <font color="#369">directional links</font> colored in the text.</p>(You don’t need to type in capitals! They are just used here for emphasis)
</script>

<script id="ht3" language="text">
	You can EXAMINE (or 'X' for short) something for a closer look. You can try and TAKE it, or DROP it - if you are carrying it. Other verbs you might want to try include:  PUSH, PULL, PUT it IN something, GIVE it TO someone…or any other command you might think of!
	<p>Here’s an example of how you could interact with an object:<br/>You can see a lamp.<br/>&gttake lamp<br/>You take the lamp.<br/>&gtx lamp<br/>A small brass lantern<br/>&gtrub lamp<br/>Nothing happens, unfortunately.<br/>&gtlight lamp<br/>The lamp emits a faint glow.</p>
	In Worldsmith, you can also click on the <font color="#369">colored links</font> - most objects and scenery have them, and that will examine the object without you having to type anything!
</script>

<script id="ht4" language="text">
	LOOK will give you another look at the room you are in.
	<p>Typing INVENTORY or I for short will list all the things you are carrying.</p>
	UNDO is a super useful command and will undo your last turn if something goes awry!
	<p>COMMANDS will give you a list of very useful World building commands.</p>
</script>

<script id="ht5" language="text">
	Just TALK TO &ltperson's name&gt. For example <p>&gt TALK TO HELEN</p> That will get you talking. Once chatting you will be given a number of <font color="#369">conversation options</font>. To choose an option, simply click on it.
	<p>Or, in Worldsmith, you can usually just click on the <font color="#369">person's name</font>, and that will start the conversation.</p>
</script>

<script id="ht6" language="text">
	The command SAVE will let you save a game (You should do this quite often. Worldsmith is a BIG game. You might want to eat. Or sleep or something).
	<p>To get your saved game back again, just type RESTORE.</p>
</script>

<script id="ht7" language="text">
	There are puzzles in the Worldsmith Story. Some of them are quite tough. Sooner or later you are going to get stuck. Here's some handy hints:
	<p>EXAMINE (X) everything. Even things that don't seem important at the time.</p>
	<p>Make a map (on a piece of paper, or, if you are feeling adventurous, <a href="http://trizbort.genstein.net/" target="_blank">Trizbort</a> is a cool mapping tool that you can use). Maps are useful things. Sometimes you might just have missed an exit in a room.</p>
	<p>If you find an object and you can TAKE it, do so! It might come in useful.</p>
	<p>Pay attention to the text! Small details might be important.</p>
	If you are really stuck, there is a super secret <a href="http://www.interactivefables.com/hints" target="_blank">hints page</a> on the Interactive Fables website.
</script>

<script type="text/javascript">
var tcolname = "Black";

function OnCustomColorChanged(selectedColor, selectedColorTitle, colorPickerIndex) {
    //here we use only one of the passed in parameters: selectedColorTitle
	if (colorPickerIndex==0) {
		document.querySelector(".BufferWindow").style.color = selectedColor;
		if (selectedColorTitle=="Crimson")
			document.body.className="redtext";
		else if (selectedColorTitle=="Black")
			document.body.className="blacktext";
		else if (selectedColorTitle=="White")
			document.body.className="whitetext";
		else if (selectedColorTitle=="Slate Grey")
			document.body.className="greytext";
		else if (selectedColorTitle=="Dark Blue")
			document.body.className="bluetext";
		tcolname=selectedColorTitle;
	}
	else if (colorPickerIndex==1) {
	 	document.querySelector(".BufferWindow").style.background = selectedColor;
	}
	else if (colorPickerIndex==2)
	{
		if (selectedColorTitle=="Crimson")
			document.body.className="red-scheme";
		else if (selectedColorTitle=="Black")
			document.body.className="black-scheme";
		else if (selectedColorTitle=="White")
			document.body.className="white-scheme";
		else if (selectedColorTitle=="Slate Grey")
			document.body.className="grey-scheme";
		else if (selectedColorTitle=="Dark Blue")
			document.body.className="blue-scheme";
	}
//		document.querySelector("a:visited").style.color = selectedColor;
}
</script>

</body>

</html>

